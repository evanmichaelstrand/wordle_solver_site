<!doctype html>
<html>
    <head>
        <title>Wordle Solver</title>
        <meta name="description" content="Wordle Solver">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
        <link rel="stylesheet" type="text/css" href="https://www.nytimes.com/games-assets/v2/wordle.0364004a3383f186fb7ca787d6588abf7c2774a4.css">
        <script>
            function reset()
            {
                location.href = "http://127.0.0.1:5000/"
            }
        </script>
        <script>
            function changeColorGreen(id)
            {
                document.getElementById(id).style.backgroundColor = "#6AAA64";
            }
        </script>

        <script>
            function changeColorYellow(id)
            {
                document.getElementById(id).style.backgroundColor = "#C9B458";
            }
        </script>

        <script>
            function changeColorGray(id)
            {
                document.getElementById(id).style.backgroundColor = "#787C7E";
            }
        </script>

        <script>
            function sendColors4(a,b,c,d,e)
            {
                let wordBefore = [a,b,c,d,e];
                let wordAfter = "";
                for (let i = 0; i < 5; i++){
                    if (document.getElementById(wordBefore[i]).style.backgroundColor == "rgb(106, 170, 100)"){//if it's green
                        wordAfter += "g";
                    } 
                    else if (document.getElementById(wordBefore[i]).style.backgroundColor == "rgb(201, 180, 88)"){//if it's yellow
                        wordAfter += "y";
                    } 
                    else{
                        wordAfter += "b";
                    }
                }
                
                //console.log(wordAfter);     //this works, just checking if it's converted into js vars
                let request = new XMLHttpRequest()
                request.open('POST', `/5/${wordAfter}`)
                request.send();
                location.href = "http://127.0.0.1:5000/5"
            }
        </script>

        <!--font-family:"nyt-karnakcondensed";-->
        <style type="text/css">
            .appHeader {
                font-size: 28px;
                font-weight: 800;
                text-align: center;
                padding: 10px;
                border-bottom: solid lightgray 1px;
            }
        </style>

        <style type="text/css">
            .tableStyle {
                width: 100%;
                outline-style: none;
                font-family: Arial, Helvetica, sans-serif;
            }
        </style>

        <style type="text/css">
            .rowStyle {
                padding : 0px;
            }
        </style>

        <style type="text/css">
            .cellStyle {
                width: 50%;
                outline-style: none;
                padding-top: 5px;
                padding-bottom: 5px;
            }
        </style>

        <style type="text/css">
            .tyleStyle {
                border: 2px solid lightgray; 
                width: 50px; 
                height: 50px; 
                border-radius: 0%;
            }
        </style>

    </head>
    <body onload="loadPrevious({{colors}}, {{suggestions}})">

        <header class="appHeader" style="text-align:center">Wordle Solver</header>
        
        <div style="height: 5%"></div>
            
        <div class="container-fluid" style="text-align:center;">
            <table class="tableStyle">
                <tr class="rowStyle">
                    <th class="cellStyle" style="font-size: 26px; padding-bottom: 70px;">Suggestion</th>
                    <th class="cellStyle" style="font-size: 26px; padding-bottom: 70px;">Result</th>
                </tr>
                <!--Row 1-->
                <tr class="rowStyle">
                    <!--Suggestion-->
                    <td class="cellStyle">
                        <div class="row" style="justify-content: center; align-items: center;">
                            <input class="form-control" id="sug1" type="text" value="agabagaboo" aria-label="readonly input" readonly style="text-align: center; width: 50%; border-radius: 0px; border: 2px solid lightgray">  
                        </div>
                    </td>
                    <!--Input-->
                    <td class="cellStyle">
                        <div class="row" style="justify-content:center; align-items:center; padding-left:35px">
                            <div class="dropdown col-1" style="width:55px;">
                                <button class="btn" style="border: 2px solid lightgray; width: 50px; height: 50px; border-radius: 0%;" id="1a" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                </button>
                            </div>
                            <div class="dropdown col-1" style="width:55px;">
                                <button class="btn" style="border: 2px solid lightgray; width: 50px; height: 50px; border-radius: 0%;" id="1b" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                </button>
                            </div>
                            <div class="dropdown col-1" style="width:55px;">
                                <button class="btn" style="border: 2px solid lightgray; width: 50px; height: 50px; border-radius: 0%;" id="1c" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                </button>
                            </div>
                            <div class="dropdown col-1" style="width:55px;">
                                <button class="btn" style="border: 2px solid lightgray; width: 50px; height: 50px; border-radius: 0%;" id="1d" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                </button>
                            </div>
                            <div class="dropdown col-1" style="width:55px;">
                                <button class="btn" style="border: 2px solid lightgray; width: 50px; height: 50px; border-radius: 0%;" id="1e" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                </button>
                            </div>
                            <div class="col-1" style="width:100px;">
                            </div>
                        </div>
                    </td>
                </tr>
                <!--Row 2-->
                <tr class="rowStyle">
                    <!--Suggestion-->
                    <td class="cellStyle">
                        <div class="row" style="justify-content: center; align-items: center;">
                            <input class="form-control" id="sug2" type="text" value="{{sug2}}" aria-label="readonly input" readonly style="text-align: center; width: 50%; border-radius: 0px; border: 2px solid lightgray">
                        </div>
                    </td>
                    <!--Input-->
                    <td class="cellStyle">
                        <div class="row" style="justify-content:center; align-items:center; padding-left:35px">
                            <div class="dropdown col-1" style="width:55px;">
                                <button class="btn" style="border: 2px solid lightgray; width: 50px; height: 50px; border-radius: 0%;" id="2a" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                </button>
                            </div>
                            <div class="dropdown col-1" style="width:55px;">
                                <button class="btn" style="border: 2px solid lightgray; width: 50px; height: 50px; border-radius: 0%;" id="2b" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                </button>
                            </div>
                            <div class="dropdown col-1" style="width:55px;">
                                <button class="btn" style="border: 2px solid lightgray; width: 50px; height: 50px; border-radius: 0%;" id="2c" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                </button>
                            </div>
                            <div class="dropdown col-1" style="width:55px;">
                                <button class="btn" style="border: 2px solid lightgray; width: 50px; height: 50px; border-radius: 0%;" id="2d" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                </button>
                            </div>
                            <div class="dropdown col-1" style="width:55px;">
                                <button class="btn" style="border: 2px solid lightgray; width: 50px; height: 50px; border-radius: 0%;" id="2e" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                </button>
                            </div>
                            <div class="col-1" style="width:100px;">
                            </div>
                        </div>
                    </td>
                </tr>
                <!--Row 3-->
                <tr class="rowStyle">
                    <!--Suggestion-->
                    <td class="cellStyle">
                        <div class="row" style="justify-content: center; align-items: center;">
                            <input class="form-control" id="sug3" type="text" value="" aria-label="readonly input" readonly style="text-align: center; width: 50%; border-radius: 0px; border: 2px solid lightgray">  
                        </div>
                    </td>
                    <!--Input-->
                    <td class="cellStyle">
                        <div class="row" style="justify-content:center; align-items:center; padding-left:35px">
                            <div class="dropdown col-1" style="width:55px;">
                                <button class="btn" style="border: 2px solid lightgray; width: 50px; height: 50px; border-radius: 0%;" id="3a" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                </button>
                            </div>
                            <div class="dropdown col-1" style="width:55px;">
                                <button class="btn" style="border: 2px solid lightgray; width: 50px; height: 50px; border-radius: 0%;" id="3b" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                </button>
                            </div>
                            <div class="dropdown col-1" style="width:55px;">
                                <button class="btn" style="border: 2px solid lightgray; width: 50px; height: 50px; border-radius: 0%;" id="3c" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                </button>
                            </div>
                            <div class="dropdown col-1" style="width:55px;">
                                <button class="btn" style="border: 2px solid lightgray; width: 50px; height: 50px; border-radius: 0%;" id="3d" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                </button>
                            </div>
                            <div class="dropdown col-1" style="width:55px;">
                                <button class="btn" style="border: 2px solid lightgray; width: 50px; height: 50px; border-radius: 0%;" id="3e" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                </button>
                            </div>
                            <div class="col-1" style="width:100px;">
                            </div>
                        </div>
                    </td>
                </tr>
                <!--Row 4-->
                <tr class="rowStyle">
                    <!--Suggestion-->
                    <td class="cellStyle">
                        <div class="row" style="justify-content: center; align-items: center;">
                            <input class="form-control" id="sug4" type="text" value="" aria-label="readonly input" readonly style="text-align: center; width: 50%; border-radius: 0px; border: 2px solid lightgray">  
                        </div>
                    </td>
                    <!--Input-->
                    <td class="cellStyle">
                        <div class="row" style="justify-content:center; align-items:center; padding-left:35px">
                            <div class="dropdown col-1" style="width:55px;">
                                <button class="btn" style="border: 2px solid lightgray; width: 50px; height: 50px; border-radius: 0%;" id="4a" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                </button>
                                <ul class="dropdown-menu">
                                  <li><a class="dropdown-item" href="#" onclick="changeColorGreen('4a')">Green</a></li>
                                  <li><a class="dropdown-item" href="#" onclick="changeColorYellow('4a')">Yellow</a></li>
                                  <li><a class="dropdown-item" href="#" onclick="changeColorGray('4a')">Gray</a></li>
                                </ul>
                            </div>
                            <div class="dropdown col-1" style="width:55px;">
                                <button class="btn" style="border: 2px solid lightgray; width: 50px; height: 50px; border-radius: 0%;" id="4b" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                </button>
                                <ul class="dropdown-menu">
                                  <li><a class="dropdown-item" href="#" onclick="changeColorGreen('4b')">Green</a></li>
                                  <li><a class="dropdown-item" href="#" onclick="changeColorYellow('4b')">Yellow</a></li>
                                  <li><a class="dropdown-item" href="#" onclick="changeColorGray('4b')">Gray</a></li>
                                </ul>
                            </div>
                            <div class="dropdown col-1" style="width:55px;">
                                <button class="btn" style="border: 2px solid lightgray; width: 50px; height: 50px; border-radius: 0%;" id="4c" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                </button>
                                <ul class="dropdown-menu">
                                    <li><a class="dropdown-item" href="#" onclick="changeColorGreen('4c')">Green</a></li>
                                    <li><a class="dropdown-item" href="#" onclick="changeColorYellow('4c')">Yellow</a></li>
                                    <li><a class="dropdown-item" href="#" onclick="changeColorGray('4c')">Gray</a></li>
                                </ul>
                            </div>
                            <div class="dropdown col-1" style="width:55px;">
                                <button class="btn" style="border: 2px solid lightgray; width: 50px; height: 50px; border-radius: 0%;" id="4d" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                </button>
                                <ul class="dropdown-menu">
                                    <li><a class="dropdown-item" href="#" onclick="changeColorGreen('4d')">Green</a></li>
                                    <li><a class="dropdown-item" href="#" onclick="changeColorYellow('4d')">Yellow</a></li>
                                    <li><a class="dropdown-item" href="#" onclick="changeColorGray('4d')">Gray</a></li>
                                </ul>
                            </div>
                            <div class="dropdown col-1" style="width:55px;">
                                <button class="btn" style="border: 2px solid lightgray; width: 50px; height: 50px; border-radius: 0%;" id="4e" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                </button>
                                <ul class="dropdown-menu">
                                    <li><a class="dropdown-item" href="#" onclick="changeColorGreen('4e')">Green</a></li>
                                    <li><a class="dropdown-item" href="#" onclick="changeColorYellow('4e')">Yellow</a></li>
                                    <li><a class="dropdown-item" href="#" onclick="changeColorGray('4e')">Gray</a></li>
                                </ul>
                            </div>
                            <div class="col-1" style="width:100px;">
                                <button class="btn" style="background-color: #D3D6DA;" href="#" type="button" onclick="sendColors4('4a','4b','4c','4d','4e')">
                                    Submit
                                </button>
                            </div>
                        </div>
                    </td>
                </tr>
                <!--Row 5-->
                <tr class="rowStyle">
                    <!--Suggestiong-->
                    <td class="cellStyle">
                        <div class="row" style="justify-content: center; align-items: center;">
                            <input class="form-control" id="sug5" type="text" value="" aria-label="readonly input" readonly style="text-align: center; width: 50%; border-radius: 0px; border: 2px solid lightgray">  
                        </div>
                    </td>
                    <!--Input-->
                    <td class="cellStyle">
                        <div class="row" style="justify-content:center; align-items:center; padding-left:35px">
                            <div class="dropdown col-1" style="width:55px;">
                                <button class="btn" style="border: 2px solid lightgray; width: 50px; height: 50px; border-radius: 0%;" id="5a" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                </button>
                            </div>
                            <div class="dropdown col-1" style="width:55px;">
                                <button class="btn" style="border: 2px solid lightgray; width: 50px; height: 50px; border-radius: 0%;" id="5b" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                </button>
                            </div>
                            <div class="dropdown col-1" style="width:55px;">
                                <button class="btn" style="border: 2px solid lightgray; width: 50px; height: 50px; border-radius: 0%;" id="5c" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                </button>
                            </div>
                            <div class="dropdown col-1" style="width:55px;">
                                <button class="btn" style="border: 2px solid lightgray; width: 50px; height: 50px; border-radius: 0%;" id="5d" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                </button>
                            </div>
                            <div class="dropdown col-1" style="width:55px;">
                                <button class="btn" style="border: 2px solid lightgray; width: 50px; height: 50px; border-radius: 0%;" id="5e" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                </button>
                            </div>
                            <div class="col-1" style="width:100px;">
                            </div>
                        </div>
                    </td>
                </tr>
                <!--Row 6-->
                <tr class="rowStyle">
                    <!--Suggestion-->
                    <td class="cellStyle">
                        <div class="row" style="justify-content: center; align-items: center;">
                            <input class="form-control" id="sug6" type="text" value="" aria-label="readonly input" readonly style="text-align: center; width: 50%; border-radius: 0px; border: 2px solid lightgray">  
                        </div>
                    </td>
                    <!--Input-->
                    <td class="cellStyle">
                        <div class="row" style="justify-content:center; align-items:center; padding-left:35px">
                            <div class="dropdown col-1" style="width:55px;">
                                <button class="btn" style="border: 2px solid lightgray; width: 50px; height: 50px; border-radius: 0%;" id="6a" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                </button>
                            </div>
                            <div class="dropdown col-1" style="width:55px;">
                                <button class="btn" style="border: 2px solid lightgray; width: 50px; height: 50px; border-radius: 0%;" id="6b" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                </button>
                            </div>
                            <div class="dropdown col-1" style="width:55px;">
                                <button class="btn" style="border: 2px solid lightgray; width: 50px; height: 50px; border-radius: 0%;" id="6c" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                </button>
                            </div>
                            <div class="dropdown col-1" style="width:55px;">
                                <button class="btn" style="border: 2px solid lightgray; width: 50px; height: 50px; border-radius: 0%;" id="6d" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                </button>
                            </div>
                            <div class="dropdown col-1" style="width:55px;">
                                <button class="btn" style="border: 2px solid lightgray; width: 50px; height: 50px; border-radius: 0%;" id="6e" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                </button>
                            </div>
                            <div class="col-1" style="width:100px;">
                            </div>
                        </div>
                    </td>
                </tr>
            </table>

            <div style="padding-top:20px">
                <a class="btn" style="background-color: #D3D6DA;" role="button" onclick="reset()">Reset</a>
            </div>
            
        </div>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
        <script>
            function loadPrevious(colors, suggestions)
            {
                function convertLetterToColor(letter)
                {
                    if (letter == "g"){
                        return "#6AAA64"
                    }
                    else if (letter == "y"){
                        return "#C9B458"
                    }
                    else{
                        return "#787C7E"
                    }
                }
                //console.log("hello from lpc", colors)
                document.getElementById('1a').style.backgroundColor = convertLetterToColor(colors[0][0]);
                document.getElementById('1b').style.backgroundColor = convertLetterToColor(colors[0][1]);
                document.getElementById('1c').style.backgroundColor = convertLetterToColor(colors[0][2]);
                document.getElementById('1d').style.backgroundColor = convertLetterToColor(colors[0][3]);
                document.getElementById('1e').style.backgroundColor = convertLetterToColor(colors[0][4]);
                document.getElementById('2a').style.backgroundColor = convertLetterToColor(colors[1][0]);
                document.getElementById('2b').style.backgroundColor = convertLetterToColor(colors[1][1]);
                document.getElementById('2c').style.backgroundColor = convertLetterToColor(colors[1][2]);
                document.getElementById('2d').style.backgroundColor = convertLetterToColor(colors[1][3]);
                document.getElementById('2e').style.backgroundColor = convertLetterToColor(colors[1][4]);
                document.getElementById('3a').style.backgroundColor = convertLetterToColor(colors[2][0]);
                document.getElementById('3b').style.backgroundColor = convertLetterToColor(colors[2][1]);
                document.getElementById('3c').style.backgroundColor = convertLetterToColor(colors[2][2]);
                document.getElementById('3d').style.backgroundColor = convertLetterToColor(colors[2][3]);
                document.getElementById('3e').style.backgroundColor = convertLetterToColor(colors[2][4]);

                document.getElementById('sug1').value = suggestions[0]
                document.getElementById('sug2').value = suggestions[1]
                document.getElementById('sug3').value = suggestions[2]
                document.getElementById('sug4').value = suggestions[3]
            }
        </script>
    </body>
</html>